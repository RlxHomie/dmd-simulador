/* ---------- Versión legible (desarrollo) ---------- */

/* ---------- Reset ---------- */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

svg {
  flex-shrink: 0; /* Prevent SVGs from shrinking in flex containers */
}

html {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif;
  font-size: 16px;
  line-height: 1.5;
}

/* ---------- Tokens ---------- */
:root {
  --background: #f5f5f7; /* Light gray background */
  --border: #e5e5ea; /* Light gray for borders */
  --danger: #ff3b30; /* Red for error states */
  --primary: #0071e3; /* Brand blue */
  --primary-hover: #0051a3; /* Darker blue for hover states */
  --radius: 12px; /* Standard border radius */
  --radius-lg: 18px; /* Larger radius for modals */
  --shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* Subtle shadow for cards */
  --shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.15); /* Stronger shadow for hover */
  --success: #34c759; /* Green for success states */
  --surface: #ffffff; /* White for cards and modals */
  --text-primary: #1d1d1f; /* Dark gray for primary text */
  --text-secondary: #666; /* Medium gray for secondary text */
  --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* Smooth transition */
  --warning: #ffcc00; /* Yellow for warning states */
}

/* ---------- Layout ---------- */
body {
  background: var(--background);
  color: var(--text-primary);
}

.d-flex {
  display: flex;
}

.gap-1 {
  gap: 1rem;
}

.main-wrapper {
  margin: 0 auto;
  max-width: 1200px;
  padding: 1rem;
}

/* ---------- Components ---------- */

/* Status Bar */
.status-bar {
  align-items: center;
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  display: flex;
  justify-content: space-between;
  padding: 0.5rem 1rem;
}

.status-info {
  align-items: center;
  display: flex;
  gap: 0.5rem;
}

.status-badge {
  align-items: center;
  display: inline-flex;
  gap: 0.25rem;
  font-size: 0.875rem;
}

/* Navigation Tabs */
.nav-tabs {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.nav-tab {
  align-items: center;
  background: none;
  border: none;
  border-radius: var(--radius);
  cursor: pointer;
  display: flex;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  transition: var(--transition);
}

.nav-tab:hover {
  background: var(--background);
}

.nav-tab.active {
  background: var(--primary);
  color: var(--surface);
}

/* Loading Screen */
.loading-screen {
  align-items: center;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 10002;
}

.loading-content {
  align-items: center;
  background: var(--surface);
  border-radius: var(--radius);
  display: flex;
  flex-direction: column;
  gap: 1rem;
  padding: 2rem;
}

.loading-spinner {
  animation: spin 1s linear infinite;
  border: 4px solid var(--border);
  border-radius: 50%;
  border-top: 4px solid var(--primary);
  height: 40px;
  width: 40px;
}

/* Auth Required Screen */
.contenedor-simulador {
  background: var(--surface);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow);
  padding: 2rem;
}

.logo {
  max-width: 200px;
}

/* Toast Notifications */
.notification-container .toast-success {
  background: var(--success);
  border-radius: var(--radius);
  color: var(--surface);
  padding: 0.75rem 1rem;
}

.notification-container .toast-error {
  background: var(--danger);
  border-radius: var(--radius);
  color: var(--surface);
  padding: 0.75rem 1rem;
}

/* Chart Card */
.chart-container {
  background: var(--surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 1rem;
}

.chart-header {
  align-items: center;
  display: flex;
  justify-content: space-between;
  margin-bottom: 1rem;
}

.chart-title {
  font-size: 1.25rem;
  font-weight: 600;
}

.chart-filters {
  display: flex;
  gap: 0.5rem;
}

.chart-filter {
  background: var(--background);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  cursor: pointer;
  padding: 0.5rem 1rem;
  transition: var(--transition);
}

.chart-filter.active,
.chart-filter[aria-pressed="true"] {
  background: var(--primary);
  color: var(--surface);
}

.chart-filter:not(.active):hover {
  background: var(--border);
}

/* Notification Container */
.notification-container {
  position: fixed;
  right: 20px;
  top: 80px;
  z-index: 10000;
}

/* Confirm Modal */
.confirm-modal,
.modal {
  align-items: center;
  animation: fadeIn 0.3s ease;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 10001;
}

.confirm-content,
.modal-content {
  animation: modalSlideUp 0.3s ease;
  background: var(--surface);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-hover);
  max-width: 600px;
  padding: 2rem;
  width: 90%;
}

.modal-header {
  align-items: center;
  display: flex;
  justify-content: space-between;
  margin-bottom: 1rem;
}

.modal-body {
  max-height: 70vh;
  overflow-y: auto;
}

/* Buttons */
.btn {
  background: none;
  border: none;
  border-radius: var(--radius);
  cursor: pointer;
  padding: 0.5rem 1rem;
  transition: var(--transition);
}

.btn-primario {
  background: var(--primary);
  color: var(--surface);
}

.btn-primario:hover {
  background: var(--primary-hover);
}

.btn-secundario {
  background: var(--background);
  border: 1px solid var(--border);
  color: var(--text-primary);
}

.btn-secundario:hover {
  background: var(--border);
}

.btn-icon {
  background: none;
  border: none;
  cursor: pointer;
  padding: 0.25rem;
}

.btn-icon svg {
  height: 20px;
  width: 20px;
}

/* Tables */
.modal-table,
.tabla-deudas {
  border-collapse: collapse;
  font-size: 0.875rem;
  width: 100%;
}

.modal-table thead,
.tabla-deudas thead {
  background: var(--background);
}

.modal-table td,
.modal-table th,
.tabla-deudas td,
.tabla-deudas th {
  padding: 0.75rem;
  text-align: left;
}

.modal-table th:not(:first-child),
.modal-table td:not(:first-child),
.tabla-deudas th:not(:first-child),
.tabla-deudas td:not(:first-child) {
  text-align: right;
}

/* Timeline */
.timeline {
  margin-top: 1rem;
  position: relative;
}

.timeline-item {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  padding-left: 2rem;
  position: relative;
}

.timeline-marker {
  align-items: center;
  background: var(--background);
  border-radius: 50%;
  display: flex;
  height: 24px;
  justify-content: center;
  left: 0;
  position: absolute;
  top: 0;
  width: 24px;
}

.timeline-marker.primary {
  background: var(--primary);
  color: var(--surface);
}

.timeline-marker.success {
  background: var(--success);
  color: var(--surface);
}

.timeline-marker.warning {
  background: var(--warning);
  color: var(--text-primary);
}

.timeline-content {
  flex: 1;
}

.timeline-date {
  color: var(--text-secondary);
  font-size: 0.875rem;
}

.timeline-title {
  font-weight: 600;
}

.timeline-description {
  color: var(--text-secondary);
  font-size: 0.875rem;
}

.timeline-user {
  color: var(--text-secondary);
  font-size: 0.75rem;
  font-style: italic;
  margin-top: 0.25rem;
}

/* Modal Cards */
.modal-card {
  background: var(--background);
  border-radius: var(--radius);
  padding: 1rem;
}

/* ---------- Utilidades ---------- */

/* Flexbox helpers */
.align-center {
  align-items: center;
}

.justify-between {
  justify-content: space-between;
}

/* Margin helpers */
.mt-2 {
  margin-top: 0.5rem;
}

.mt-3 {
  margin-top: 1rem;
}

/* Progress Bar */
.progress-bar-container {
  background: var(--border);
  border-radius: 4px;
  height: 8px;
  overflow: hidden;
}

.progress-bar {
  background: var(--primary);
  height: 100%;
  transition: width 0.3s ease;
}

/* Badges de estado */
.estado-badge {
  align-items: center;
  background: var(--background);
  border-radius: 999px;
  display: inline-flex;
  font-size: 0.75rem;
  font-weight: 600;
  gap: 0.25rem;
  padding: 0.25rem 0.5rem;
}

.estado-badge.plan_creado {
  color: var(--primary);
}

.estado-badge.plan_contratado {
  color: var(--warning);
}

.estado-badge.primer_pago {
  color: var(--success);
}

.estado-badge.plan_cancelado {
  color: var(--danger); /* Red for cancelled plan state */
}

/* Focus Visible */
:focus-visible {
  outline: 3px solid var(--primary);
  outline-offset: 2px;
}

@supports not selector(:focus-visible) {
  button:focus {
    filter: brightness(0.95);
    outline: 3px solid var(--primary);
    outline-offset: 2px;
  }
}

button:focus-visible {
  filter: brightness(0.95); /* Subtle brightness change for buttons */
}

/* ---------- Animaciones ---------- */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes modalSlideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.spin {
  animation: spin 1s linear infinite;
}

/* -- FIN DEV -- */

/* ---------- Versión minificada (producción) ---------- */
*{box-sizing:border-box;margin:0;padding:0}svg{flex-shrink:0}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans',sans-serif;font-size:16px;line-height:1.5}:root{--background:#f5f5f7;--border:#e5e5ea;--danger:#ff3b30;--primary:#0071e3;--primary-hover:#0051a3;--radius:12px;--radius-lg:18px;--shadow:0 4px 12px rgba(0,0,0,.1);--shadow-hover:0 8px 24px rgba(0,0,0,.15);--success:#34c759;--surface:#ffffff;--text-primary:#1d1d1f;--text-secondary:#666;--transition:all .3s cubic-bezier(.4,0,.2,1);--warning:#ffcc00}body{background:var(--background);color:var(--text-primary)}.d-flex{display:flex}.gap-1{gap:1rem}.main-wrapper{margin:0 auto;max-width:1200px;padding:1rem}.status-bar{align-items:center;background:var(--surface);border-bottom:1px solid var(--border);display:flex;justify-content:space-between;padding:.5rem 1rem}.status-info{align-items:center;display:flex;gap:.5rem}.status-badge{align-items:center;display:inline-flex;gap:.25rem;font-size:.875rem}.nav-tabs{display:flex;gap:.5rem;margin-bottom:1rem}.nav-tab{align-items:center;background:none;border:none;border-radius:var(--radius);cursor:pointer;display:flex;gap:.5rem;padding:.5rem 1rem;transition:var(--transition)}.nav-tab:hover{background:var(--background)}.nav-tab.active{background:var(--primary);color:var(--surface)}.loading-screen{align-items:center;background:rgba(0,0,0,.5);display:flex;height:100%;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:10002}.loading-content{align-items:center;background:var(--surface);border-radius:var(--radius);display:flex;flex-direction:column;gap:1rem;padding:2rem}.loading-spinner{animation:spin 1s linear infinite;border:4px solid var(--border);border-radius:50%;border-top:4px solid var(--primary);height:40px;width:40px}.contenedor-simulador{background:var(--surface);border-radius:var(--radius-lg);box-shadow:var(--shadow);padding:2rem}.logo{max-width:200px}.notification-container .toast-success{background:var(--success);border-radius:var(--radius);color:var(--surface);padding:.75rem 1rem}.notification-container .toast-error{background:var(--danger);border-radius:var(--radius);color:var(--surface);padding:.75rem 1rem}.chart-container{background:var(--surface);border-radius:var(--radius);box-shadow:var(--shadow);padding:1rem}.chart-header{align-items:center;display:flex;justify-content:space-between;margin-bottom:1rem}.chart-title{font-size:1.25rem;font-weight:600}.chart-filters{display:flex;gap:.5rem}.chart-filter{background:var(--background);border:1px solid var(--border);border-radius:var(--radius);cursor:pointer;padding:.5rem 1rem;transition:var(--transition)}.chart-filter.active,.chart-filter[aria-pressed="true"]{background:var(--primary);color:var(--surface)}.chart-filter:not(.active):hover{background:var(--border)}.notification-container{position:fixed;right:20px;top:80px;z-index:10000}.confirm-modal,.modal{align-items:center;animation:fadeIn .3s ease;background:rgba(0,0,0,.5);display:flex;height:100%;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:10001}.confirm-content,.modal-content{animation:modalSlideUp .3s ease;background:var(--surface);border-radius:var(--radius-lg);box-shadow:var(--shadow-hover);max-width:600px;padding:2rem;width:90%}.modal-header{align-items:center;display:flex;justify-content:space-between;margin-bottom:1rem}.modal-body{max-height:70vh;overflow-y:auto}.btn{background:none;border:none;border-radius:var(--radius);cursor:pointer;padding:.5rem 1rem;transition:var(--transition)}.btn-primario{background:var(--primary);color:var(--surface)}.btn-primario:hover{background:var(--primary-hover)}.btn-secundario{background:var(--background);border:1px solid var(--border);color:var(--text-primary)}.btn-secundario:hover{background:var(--border)}.btn-icon{background:none;border:none;cursor:pointer;padding:.25rem}.btn-icon svg{height:20px;width:20px}.modal-table,.tabla-deudas{border-collapse:collapse;font-size:.875rem;width:100%}.modal-table thead,.tabla-deudas thead{background:var(--background)}.modal-table td,.modal-table th,.tabla-deudas td,.tabla-deudas th{padding:.75rem;text-align:left}.modal-table th:not(:first-child),.modal-table td:not(:first-child),.tabla-deudas th:not(:first-child),.tabla-deudas td:not(:first-child){text-align:right}.timeline{margin-top:1rem;position:relative}.timeline-item{display:flex;gap:1rem;margin-bottom:1rem;padding-left:2rem;position:relative}.timeline-marker{align-items:center;background:var(--background);border-radius:50%;display:flex;height:24px;justify-content:center;left:0;position:absolute;top:0;width:24px}.timeline-marker.primary{background:var(--primary);color:var(--surface)}.timeline-marker.success{background:var(--success);color:var(--surface)}.timeline-marker.warning{background:var(--warning);color:var(--text-primary)}.timeline-content{flex:1}.timeline-date{color:var(--text-secondary);font-size:.875rem}.timeline-title{font-weight:600}.timeline-description{color:var(--text-secondary);font-size:.875rem}.timeline-user{color:var(--text-secondary);font-size:.75rem;font-style:italic;margin-top:.25rem}.modal-card{background:var(--background);border-radius:var(--radius);padding:1rem}.align-center{align-items:center}.justify-between{justify-content:space-between}.mt-2{margin-top:.5rem}.mt-3{margin-top:1rem}.progress-bar-container{background:var(--border);border-radius:4px;height:8px;overflow:hidden}.progress-bar{background:var(--primary);height:100%;transition:width .3s ease}.estado-badge{align-items:center;background:var(--background);border-radius:999px;display:inline-flex;font-size:.75rem;font-weight:600;gap:.25rem;padding:.25rem .5rem}.estado-badge.plan_creado{color:var(--primary)}.estado-badge.plan_contratado{color:var(--warning)}.estado-badge.primer_pago{color:var(--success)}.estado-badge.plan_cancelado{color:var(--danger)}:focus-visible{outline:3px solid var(--primary);outline-offset:2px}@supports not selector(:focus-visible){button:focus{filter:brightness(.95);outline:3px solid var(--primary);outline-offset:2px}}button:focus-visible{filter:brightness(.95)}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes modalSlideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes spin{to{transform:rotate(360deg)}}.spin{animation:spin 1s linear infinite}